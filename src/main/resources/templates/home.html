<html xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org">
<head>
<title>Iyzico Challenge</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<script src="/js/jquery-2.2.2.min.js" type="text/javascript"></script>
<script src="/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/js/lodash.min.js" type="text/javascript"></script>
<script src="/js/vue.js" type="text/javascript"></script>
<script src="/js/vue-resource.js" type="text/javascript"></script>
<link href="/css/bootstrap.min.css" rel="stylesheet" />
<link href="/css/core.css" rel="stylesheet" />
</head>
<body>
	<div tiles:fragment="content" id="iyzico-app">
		<div class="page-wrap">
			<!-- Header -->
			<div class="navbar navbar-inverse clearfix">
				<div class="container">
					<div class="row">
						<div class="navbar-header col-sm-8">
							<h6>IYZICO CHALLENGE</h6>
						</div>
						<div class="col-sm-4">
							<ul class="nav navbar-nav">
								<li class="active"><a href="#">Home</a></li>
								<li><a href="#prices">Register</a></li>
								<li><a href="#speakers">Speakers</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<!-- Header Bitti -->
			<div class="container">
				<div id="conferenceCarousel" class="carousel slide" data-ride="carousel">
					<!-- Indicators -->
					<ol class="carousel-indicators">
						<li data-target="#conferenceCarousel" data-slide-to="0"></li>
						<li data-target="#conferenceCarousel" data-slide-to="1"></li>
						<li data-target="#conferenceCarousel" data-slide-to="2"></li>
					</ol>

					<!-- Wrapper for slides -->
					<div class="carousel-inner" role="listbox">
						<div class="item active">
							<img th:src="@{/images/conference/conference1.jpg}" alt="Software Day 2018" width="500" height="300" />
							<div class="carousel-caption">
								<h3>Software Day 2018</h3>
								<p><font size="3" color="white">Event will start at 27 May 2018 08:00</font></p>
							</div>
						</div>
						<div class="item">
							<img th:src="@{/images/conference/conference2.jpg}" alt="Software Day 2018" width="500" height="300" />
							<div class="carousel-caption">
								<h3>Software Day 2018</h3>
								<p><font size="3" color="white">This developer conference will bring together popular speakers, core developers of popular open source technologies and professionals willing to
									share their knowledge and experiences.</font></p>
							</div>
						</div>
						<div class="item">
							<img th:src="@{/images/conference/conference3.jpg}" alt="Software Day 2018" width="500" height="300" />
							<div class="carousel-caption">
								<h3>Software Day 2018</h3>
								<p><font size="3" color="white">This developer conference will bring together popular speakers, core developers of popular open source technologies and professionals willing to
									share their knowledge and experiences.</font></p>
							</div>
						</div>
					</div>

					<!-- Left and right controls -->
					<a class="left carousel-control" href="#conferenceCarousel" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left"
						aria-hidden="true"></span> <span class="sr-only">Previous</span>
					</a> <a class="right carousel-control" href="#conferenceCarousel" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right"
						aria-hidden="true"></span> <span class="sr-only">Next</span>
					</a>
				</div>
			</div>

			<!-- Container Modul -->
			<div class="container">
				<div class="panel panel-default" id="speakers">
					<div class="panel-heading">
						<div class="row">
							<div class="col-sm-1">
								<label class="control-label">Speakers</label>
							</div>
							<div class="col-sm-2">
								<input type="text" class="form-control" id="search" placeholder="Search speakers" v-model="searchSpeakers" />
							</div>
						</div>
					</div>
					<div class="panel-body">
						<!-- Left-aligned media object -->
						<div class="media" v-for="speaker in filteredSpeakers">
							<div class="media-left">
								<img v-bind:alt="speaker.firstName" v-bind:src="speaker.image" width="100" height="100" class="media-object img-rounded" />
							</div>
							<div class="media-body">
								<div class="media-heading">
									<div class="panel panel-default">
										<div class="panel-heading">
											<span class="label label-default">{{speaker.firstName}} {{speaker.lastName}}</span> - <span class="label label-default">{{speaker.subject}}</span>
										</div>
										<div class="panel-body">{{speaker.subjectDetails}}</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="panel panel-default" id="prices">
					<div class="panel-heading">Prices</div>
					<div class="panel-body">
						<table class="table table-bordered">
							<thead>
								<tr>
									<td>From</td>
									<td>Until</td>
									<td>Type</td>
									<td>Price</td>
								</tr>
							</thead>
							<tbody>
								<tr v-for="price in prices">
									<td>{{price.startDate}}</td>
									<td>{{price.endDate}}</td>
									<td>{{price.ticketType}}</td>
									<td><b>{{price.ticketPrice}}</b> TL</td>
								</tr>
							</tbody>
						</table>

						<center>
							<button type="button" class="btn btn-info" data-toggle="modal" data-target="#registerModal">Register</button>
						</center>
					</div>
				</div>


			</div>

			<!-- Register Modal -->
			<div id="registerModal" class="modal fade" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Register to Conference</h4>
						</div>
						<div class="modal-body">
							<form class="form-horizontal" v-on:submit="iyzicoBinQuery($event)">
								<div class="form-group">
									<label class="control-label col-sm-4" for="name">Name on the Card:</label>
									<div class="col-sm-6">
										<input type="text" class="form-control" id="name" placeholder="Enter name" v-model="ticket.nameOnTheCard" required="required" />
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-sm-4" for="cardNumber">Card Number:</label>
									<div class="col-sm-6">
										<input type="text" class="form-control" id="cardNumber" placeholder="Enter card number" v-model="ticket.cardNumber" required="required" />
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-sm-4" for="select">Select a Ticket Type:</label>
									<div class="col-sm-6">
										<select v-model="ticket.selectedTicketType" class="select form-control" id="ticketType" name="ticketType" v-on:change="onChangeTicketType()"
											required="required">
											<option v-for="price in prices" v-bind:value="price.ticketPrice">{{price.ticketType}} - {{ price.ticketPrice}} TL</option>
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-sm-4" for="discountCode">Discount Code:</label>
									<div class="col-sm-4">
										<input type="text" class="form-control" id="discountCode" v-model="ticket.discountCode" placeholder="Enter discountCode" /> <span
											v-if="ticket.discountCodeMessage != ''" v-bind:class="{'label-success' : ticket.isValidDiscountCode, 'label-danger' : !ticket.isValidDiscountCode}"
											class="label">{{ticket.discountCodeMessage}}</span>
									</div>
									<div class="col-sm-2">
										<button v-on:click.stop.prevent="processDiscountCode(ticket.discountCode)" class="form-control btn-default" id="discountCode"
											:disabled="ticket.isValidDiscountCode">Use</button>
										<button v-if="ticket.isValidDiscountCode" v-on:click.stop.prevent="deleteDiscount()" class="form-control btn-danger" id="discountCode">X</button>
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-sm-4" for="totalPrice">Total Price(TL):</label>
									<div class="col-sm-6">
										<label class="control-label">{{ticket.totalPrice}}</label>
									</div>
								</div>
								<div class="form-group">
									<div class="col-sm-4"></div>
									<div class="col-sm-6">
										<input type="checkbox" v-model="agree" name="agree" value="agree" required="required" />Agree with the terms and conditions
									</div>
								</div>
								<div class="form-group">
									<div class="col-sm-4"></div>
									<div class="col-sm-6">
										<button type="submit" class="btn btn-primary" :disabled="!agree">Register</button>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>

			</div>

			<!-- iyzico bin query response -->

			<div id="messageModal" class="modal fade" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" v-on:click="checkIfRegistered()">&times;</button>
							<h4 class="modal-title">Information</h4>
						</div>
						<div class="modal-body">
							<p>{{message}}</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal" v-on:click="checkIfRegistered()">Close</button>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>

</body>
<script src="/js/iyzico-app.js" type="text/javascript"></script>
</html>